import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,d as n,o as a}from"./app-BDQL9qnX.js";const t={};function h(l,i){return a(),e("div",null,i[0]||(i[0]=[n(`<h3 id="cookie" tabindex="-1"><a class="header-anchor" href="#cookie"><span>Cookie:</span></a></h3><p>Cookie là cách lưu trữ dữ liệu tại browser. Khi thực hiện request dữ liệu cookie sẽ được gửi kèm đến server. Với server sử dụng cookie, browser sẽ lưu cookie trong respond trả về. VD: Set cookie với php</p><div class="language-php line-numbers-mode" data-highlighter="shiki" data-ext="php" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-php"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">php</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$cookie_name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;user&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$cookie_value</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;John Doe&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">setcookie</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$cookie_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $cookie_value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">86400</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Inspect tab Network, xem chi tiết Response Headers sẽ thấy</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>Set-Cookie: user2=John%20Doe; expires=Mon, 27-Sep-2021 14:26:15 GMT; Max-Age=2592000; path=/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="session" tabindex="-1"><a class="header-anchor" href="#session"><span>Session</span></a></h3><p>Session là 1 cách lưu trữ thông tin từng user(browser) cho nhiều page khác nhau. Hiểu đơn giản trong 1 request trong php, ta có thể tạo 1 variable để lưu thông tin vậy làm sao có thể lưu thông tin và thay đổi cho nhiều request, lúc này có thể sử dụng session variable ($_SESSION).</p><p>Khi bắt đầu học php, thường dùng session cho các xử lí authentication hay shopping cart,..</p><p>Khi vừa tiếp xúc với session, dễ nhận định sai lầm là trường hợp các request với các browser khác nhau thì có thể truy cập cùng 1 dữ liệu session. Nếu không thể thì bằng cách nào web server có thể phân biệt được dữ liệu session của từng browser.</p><h4 id="session-work" tabindex="-1"><a class="header-anchor" href="#session-work"><span>Session work:</span></a></h4><p>Khi browser gửi 1 request, web server sẽ phản hồi (responds) kèm theo cookie để browser lưu trữ và những lần request tiếp theo browser sẽ gửi kèm theo cookie trở lại server. Vậy có thể dùng cookie để lưu trữ thông tin giữa các request nhưng sẽ có vài khuyết điểm là dữ liệu cookie có thể bị chặn hoặc đánh cắp, nguy hiểm nếu dữ liệu cần bảo mật của người dùng.</p><p>Giải pháp là dùng kết hợp giữa cookie và lưu trữ thông tin trên server. Đó là session. Server sẽ dựa vào cookie của browser để phân biệt dữ liệu được lưu trên server.</p><p>Server sẽ gửi cho browser 1 mã token duy nhất, gọi là session ID và được lưu trong cookie. Server sẽ nhận session ID để xác định browser trong mỗi lần request. Vậy có thể trả lời cho các trường hợp chặn hoặc xóa cookie thì không thể sử dụng hoặc phải đăng nhập lại ứng dụng.</p><p>Khi đóng browser, session ID trong cookie sẽ bị xóa nhưng nếu không chủ động xóa dữ liệu session tên server thì dữ liệu đó vẫn còn. Nhưng thường user sẽ đóng tab hoặc chỉ tắt browser.</p><p>Vậy nên session sẽ có thời gian timeout. PHP GC (Garbage Collection) sẽ chạy định kì và xóa bỏ dữ liệu session đã quá hạn.</p>`,15)]))}const p=s(t,[["render",h]]),k=JSON.parse('{"path":"/blogs/PHP/session-va-cookie_237.html","title":"Session và Cookie","lang":"en-US","frontmatter":{"title":"Session và Cookie","date":"2025-08-08T00:00:00.000Z","tags":["php"],"categories":["PHP"],"author":"Admin","location":"VN","description":"Session và Cookie","image":null,"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Session và Cookie\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-08-08T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Admin\\"}]}"],["meta",{"property":"og:url","content":"https://mister-hope.github.io/blog/blogs/PHP/session-va-cookie_237.html"}],["meta",{"property":"og:site_name","content":"Nin Blog"}],["meta",{"property":"og:title","content":"Session và Cookie"}],["meta",{"property":"og:description","content":"Session và Cookie"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"article:author","content":"Admin"}],["meta",{"property":"article:tag","content":"php"}],["meta",{"property":"article:published_time","content":"2025-08-08T00:00:00.000Z"}]]},"git":{},"readingTime":{"minutes":1.91,"words":573},"filePathRelative":"blogs/PHP/session-va-cookie_237.md","excerpt":"<h3>Cookie:</h3>\\n<p>Cookie là cách lưu trữ dữ liệu tại browser. Khi thực hiện request dữ liệu cookie sẽ được gửi kèm đến server. Với server sử dụng cookie, browser sẽ lưu cookie trong respond trả về. VD: Set cookie với php</p>\\n<div class=\\"language-php line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"php\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-php\\"><span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\">&lt;</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#C678DD\\">?</span><span style=\\"--shiki-light:#986801;--shiki-dark:#ABB2BF\\">php</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">$cookie_name</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\"> =</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> \\"user\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">$cookie_value</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\"> =</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> \\"John Doe\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">setcookie</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">(</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">$cookie_name</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">,</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\"> $cookie_value</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">,</span><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\"> time</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">()</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\"> +</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> (</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">86400</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\"> *</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 30</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">),</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> \\"/\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">);</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}');export{p as comp,k as data};
